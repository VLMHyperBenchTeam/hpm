# Задача: Поддержка HSM_REGISTRY_PATH в ядре

## Контекст
Для обеспечения изоляции тестов и возможности работы с разными реестрами, необходимо добавить поддержку переменной окружения `HSM_REGISTRY_PATH`. Это позволит тестам указывать путь к временному реестру без изменения кода.

Текущая инициализация `registry_path` находится в `hsm/src/hyper_stack_manager/core.py:HSMCore.__init__`.

## Шаги реализации
1.  Изменить `HSMCore.__init__` в `hsm/src/hyper_stack_manager/core.py`.
2.  Добавить проверку переменной окружения `HSM_REGISTRY_PATH`.
3.  Приоритет выбора пути:
    *   Аргумент `registry_path` при инициализации.
    *   Переменная окружения `HSM_REGISTRY_PATH`.
    *   Путь по умолчанию `./hsm-registry`.

## Критерии готовности
*   Код `HSMCore` корректно определяет путь к реестру из переменной окружения.
*   При запуске `hsm` с установленной переменной `HSM_REGISTRY_PATH`, команды работают с указанной директорией.