# План: Параллельная синхронизация (Python 3.13 Free-threaded)

## Цель
Ускорить процесс синхронизации окружения (`hsm sync`) за счет параллельного выполнения независимых операций (установка Python-пакетов и запуск Docker-контейнеров), используя возможности Python 3.13 по работе без GIL.

## Архитектура

### 1. Анализ зависимостей
Перед запуском синхронизации `SyncEngine` должен построить граф зависимостей.
- Независимые пакеты могут устанавливаться параллельно.
- Контейнеры могут подниматься параллельно, если между ними нет связей (например, через `depends_on` в compose, который обрабатывается самим докером, но HSM может запускать разные группы параллельно).

### 2. Использование Threading в No-GIL режиме
В Python 3.13 (при включенном free-threading) потоки становятся эффективным инструментом для I/O и CPU-bound задач.
- Реализация `ParallelExecutor`, который принимает список задач (функций) и выполняет их в `ThreadPoolExecutor`.

### 3. Оркестрация в SyncEngine
Изменение метода `sync()`:
- Группировка операций по типам (Packages, Containers).
- Запуск `package_adapter.sync()` и `container_adapter.up()` в параллельных потоках, если это безопасно.

## Ожидаемый результат
Сокращение времени выполнения `hsm sync` в проектах с большим количеством независимых компонентов.